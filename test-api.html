<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è - Talaria</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #b22222;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .test-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }
        button {
            background: #b22222;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background: #a01e1e;
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .loading {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .config-display {
            background: #e2e3e5;
            border: 1px solid #d6d8db;
            color: #383d41;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-ok { background: #28a745; }
        .status-error { background: #dc3545; }
        .status-warning { background: #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–µ—Å—Ç API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Talaria</h1>

        <div class="test-section">
            <div class="test-title">üìã –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</div>
            <div id="config-display" class="config-display">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...</div>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span id="connection-status" class="status-indicator status-warning"></span>
                üîó –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Strapi
            </div>
            <button onclick="testConnection()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</button>
            <button onclick="testWithoutAuth()">–¢–µ—Å—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</button>
            <div id="connection-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span id="api-status" class="status-indicator status-warning"></span>
                üì¶ –¢–µ—Å—Ç API /shoes
            </div>
            <button onclick="testShoesAPI()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã</button>
            <button onclick="testShoesAPIDetailed()">–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ—Å—Ç</button>
            <div id="api-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">üñºÔ∏è –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</div>
            <button onclick="testImages()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
            <div id="images-result" class="result" style="display: none;"></div>
            <div id="images-preview" style="margin-top: 15px;"></div>
        </div>

        <div class="test-section">
            <div class="test-title">‚ö° –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</div>
            <button onclick="performanceTest()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
            <div id="performance-result" class="result" style="display: none;"></div>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const TEST_CONFIG = {
            STRAPI_BASE_URL: 'http://localhost:1337',
            API_TOKEN: '4d517983794bd6eeaf62f96682ff0003038308f3c0f22d00f5a184d0bcb69d31c41baa4c3efdc6f3321e9d5f1bac524fd0c887c257207b570f2df9e60972d9d50229a85ab541359f4b5135fd873ce73f6dace07fe0655c8b385fdbcb33218e3fb144f63cf0e1c95cbe36e5d5c4eb8ebb2d7d4aed2987d2e74d035887d58a14a8'
        };

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        function displayConfig() {
            const configDisplay = document.getElementById('config-display');
            configDisplay.innerHTML = `
<strong>Strapi URL:</strong> ${TEST_CONFIG.STRAPI_BASE_URL}
<strong>API Token:</strong> ${TEST_CONFIG.API_TOKEN.substring(0, 20)}...${TEST_CONFIG.API_TOKEN.slice(-10)}
<strong>Endpoints:</strong>
  - GET /api/shoes?populate=*
  - GET /api/shoes/:id?populate=*
            `;
        }

        // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function showResult(elementId, content, type = 'loading') {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = `result ${type}`;
            element.textContent = content;
        }

        function updateStatus(statusId, status) {
            const statusElement = document.getElementById(statusId);
            statusElement.className = `status-indicator status-${status}`;
        }

        // –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        async function testConnection() {
            showResult('connection-result', '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É...', 'loading');

            try {
                const response = await fetch(TEST_CONFIG.STRAPI_BASE_URL, {
                    method: 'GET',
                    mode: 'cors'
                });

                if (response.ok) {
                    showResult('connection-result', `‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ${TEST_CONFIG.STRAPI_BASE_URL}
–°—Ç–∞—Ç—É—Å: ${response.status} ${response.statusText}
–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞: ${response.headers.get('content-type') || '–ù–µ —É–∫–∞–∑–∞–Ω'}`, 'success');
                    updateStatus('connection-status', 'ok');
                } else {
                    showResult('connection-result', `‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏–ª —Å –æ—à–∏–±–∫–æ–π: ${response.status} ${response.statusText}`, 'error');
                    updateStatus('connection-status', 'error');
                }
            } catch (error) {
                showResult('connection-result', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${error.message}

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- Strapi —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- CORS –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é`, 'error');
                updateStatus('connection-status', 'error');
            }
        }

        // –¢–µ—Å—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        async function testWithoutAuth() {
            showResult('connection-result', '–¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...', 'loading');

            try {
                const response = await fetch(`${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes`);

                showResult('connection-result', `–û—Ç–≤–µ—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: ${response.status}
${response.status === 401 ? '‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (401 Unauthorized)' : '‚ö†Ô∏è –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏'}`,
                response.status === 401 ? 'success' : 'error');
            } catch (error) {
                showResult('connection-result', `–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç API –æ–±—É–≤–∏
        async function testShoesAPI() {
            showResult('api-result', '–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ API...', 'loading');

            try {
                const startTime = performance.now();
                const response = await fetch(`${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes?populate=*`, {
                    headers: {
                        'Authorization': `Bearer ${TEST_CONFIG.API_TOKEN}`,
                        'Content-Type': 'application/json'
                    }
                });

                const endTime = performance.now();
                const duration = (endTime - startTime).toFixed(2);

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const data = await response.json();

                showResult('api-result', `‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ!
–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${duration}ms
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤: ${data.data?.length || 0}
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è

${data.data?.length > 0 ? `–ü—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–∞:
–ù–∞–∑–≤–∞–Ω–∏–µ: ${data.data[0].name}
ID: ${data.data[0].documentId}
–§–æ—Ç–æ: ${data.data[0].photo?.length || 0} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π` : '–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã'}`, 'success');
                updateStatus('api-status', 'ok');
            } catch (error) {
                showResult('api-result', `‚ùå –û—à–∏–±–∫–∞ API: ${error.message}`, 'error');
                updateStatus('api-status', 'error');
            }
        }

        // –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ—Å—Ç API
        async function testShoesAPIDetailed() {
            showResult('api-result', '–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API...', 'loading');

            try {
                const response = await fetch(`${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes?populate=*`, {
                    headers: {
                        'Authorization': `Bearer ${TEST_CONFIG.API_TOKEN}`,
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();

                let detailedInfo = `üìä –ü–û–î–†–û–ë–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û–ë API:

üîó URL: ${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes?populate=*
üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤: ${data.data?.length || 0}
üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏: ${JSON.stringify(data.meta?.pagination || '–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç')}

`;

                if (data.data?.length > 0) {
                    const firstItem = data.data[0];
                    detailedInfo += `üéØ –ê–ù–ê–õ–ò–ó –ü–ï–†–í–û–ì–û –¢–û–í–ê–†–ê:
- –ù–∞–∑–≤–∞–Ω–∏–µ: ${firstItem.name}
- Document ID: ${firstItem.documentId}
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: ${firstItem.createdAt}
- –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: ${firstItem.publishedAt ? '–î–∞' : '–ù–µ—Ç'}
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ: ${firstItem.photo?.length || 0}`;

                    if (firstItem.photo?.length > 0) {
                        const photo = firstItem.photo[0];
                        detailedInfo += `

üì∏ –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –§–û–¢–û:
- –ò–º—è —Ñ–∞–π–ª–∞: ${photo.name}
- –†–∞–∑–º–µ—Ä: ${photo.size} KB
- –†–∞–∑–º–µ—Ä—ã: ${photo.width}x${photo.height}
- –§–æ—Ä–º–∞—Ç—ã: ${Object.keys(photo.formats || {}).join(', ')}
- URL: ${photo.url}`;
                    }
                } else {
                    detailedInfo += `
‚ö†Ô∏è  –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤.
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
1. –í Strapi —Å–æ–∑–¥–∞–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è 'shoes'
2. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–≤–∞—Ä—ã
3. –¢–æ–≤–∞—Ä—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã`;
                }

                showResult('api-result', detailedInfo, 'success');
            } catch (error) {
                showResult('api-result', `‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        async function testImages() {
            showResult('images-result', '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...', 'loading');

            try {
                const response = await fetch(`${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes?populate=*`, {
                    headers: {
                        'Authorization': `Bearer ${TEST_CONFIG.API_TOKEN}`
                    }
                });

                const data = await response.json();
                const imagesPreview = document.getElementById('images-preview');
                imagesPreview.innerHTML = '';

                if (data.data?.length > 0) {
                    let imageCount = 0;
                    let loadedCount = 0;
                    let errorCount = 0;

                    for (const shoe of data.data) {
                        if (shoe.photo?.length > 0) {
                            for (const photo of shoe.photo) {
                                imageCount++;
                                const imageUrl = `${TEST_CONFIG.STRAPI_BASE_URL}${photo.formats?.thumbnail?.url || photo.url}`;

                                const img = document.createElement('img');
                                img.src = imageUrl;
                                img.alt = shoe.name;
                                img.style.cssText = 'width: 100px; height: 100px; object-fit: cover; margin: 5px; border-radius: 8px; border: 2px solid #eee;';

                                img.onload = () => {
                                    loadedCount++;
                                    img.style.borderColor = '#28a745';
                                    updateImageResult();
                                };

                                img.onerror = () => {
                                    errorCount++;
                                    img.style.borderColor = '#dc3545';
                                    img.alt = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                                    updateImageResult();
                                };

                                imagesPreview.appendChild(img);
                            }
                        }
                    }

                    function updateImageResult() {
                        if (loadedCount + errorCount === imageCount) {
                            showResult('images-result',
                                `üñºÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ:
–í—Å–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ${imageCount}
–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: ${loadedCount}
–û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏: ${errorCount}
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ${((loadedCount/imageCount)*100).toFixed(1)}%`,
                                errorCount === 0 ? 'success' : 'error');
                        }
                    }

                    if (imageCount === 0) {
                        showResult('images-result', '–£ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 'error');
                    }
                } else {
                    showResult('images-result', '–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π', 'error');
                }
            } catch (error) {
                showResult('images-result', `–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        async function performanceTest() {
            showResult('performance-result', '–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏...', 'loading');

            const results = [];
            const testCount = 5;

            try {
                for (let i = 0; i < testCount; i++) {
                    const startTime = performance.now();

                    const response = await fetch(`${TEST_CONFIG.STRAPI_BASE_URL}/api/shoes?populate=*`, {
                        headers: {
                            'Authorization': `Bearer ${TEST_CONFIG.API_TOKEN}`
                        }
                    });

                    const endTime = performance.now();
                    const duration = endTime - startTime;

                    results.push({
                        attempt: i + 1,
                        duration: duration,
                        status: response.status,
                        success: response.ok
                    });

                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
                    showResult('performance-result', `–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: ${i + 1}/${testCount}
–ü–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: ${duration.toFixed(2)}ms`, 'loading');

                    // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
                    await new Promise(resolve => setTimeout(resolve, 200));
                }

                // –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                const durations = results.map(r => r.duration);
                const avgDuration = durations.reduce((a, b) => a + b, 0) / durations.length;
                const minDuration = Math.min(...durations);
                const maxDuration = Math.max(...durations);
                const successRate = (results.filter(r => r.success).length / testCount) * 100;

                showResult('performance-result',
                    `‚ö° –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò:

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞:
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${avgDuration.toFixed(2)}ms
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ: ${minDuration.toFixed(2)}ms
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ: ${maxDuration.toFixed(2)}ms
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ${successRate}%

üìà –î–µ—Ç–∞–ª–∏ –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º:
${results.map(r => `${r.attempt}. ${r.duration.toFixed(2)}ms (${r.success ? '‚úÖ' : '‚ùå'})`).join('\n')}

üí° –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
${avgDuration < 100 ? 'üöÄ –û—Ç–ª–∏—á–Ω–æ!' : avgDuration < 300 ? '‚úÖ –•–æ—Ä–æ—à–æ' : avgDuration < 1000 ? '‚ö†Ô∏è –ü—Ä–∏–µ–º–ª–µ–º–æ' : '‚ùå –ú–µ–¥–ª–µ–Ω–Ω–æ'}`,
                    successRate === 100 ? 'success' : 'error');
            } catch (error) {
                showResult('performance-result', `–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: ${error.message}`, 'error');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            displayConfig();
            console.log('üß™ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é');
        });
    </script>
</body>
</html>
